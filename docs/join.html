<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR" xml:lang="ko-KR"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.523">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="이광춘">
<title>챗GPT SQL - 9&nbsp; 조인(Join)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./create.html" rel="next">
<link href="./calc-agg.html" rel="prev">
<link href="./images/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script><script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-229551680-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script><script defer="" data-domain="r2bit.com/gpt-sql" src="https://plausible.io/js/script.js"></script><script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="site_libs/viz-1.8.2/viz.js"></script><link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="site_libs/grViz-binding-1.0.10/grViz.js"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./select.html">SQL 쿼리</a></li><li class="breadcrumb-item"><a href="./join.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">조인(Join)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">챗GPT SQL</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/bit2r/gpt-sql/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="리더 모드 전환">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">챗GPT SQL</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">시작을 위한 준비</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">들어가며</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">기본 개념</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">실습환경 설정</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">SQL 쿼리</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./select.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">데이터 선택하기</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sort-filter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">정렬과 필터</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./null-hygene.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">데이터 결측과 위생</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calc-agg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">새로운 필드와 집계</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./join.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">조인(Join)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./create.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">데이터 생성과 변형</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">데이터베이스 프로그래밍</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">현장활용법</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spreadsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">엑셀의 역설</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./etl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">데이터베이스 ETL</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./duck_postgreSQL.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">생산성 향상 전략</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case_dvd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">DVD 대여 데이터베이스</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">챗GPT SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="토글 섹션">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./text2sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">자연어 SQL 쿼리</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./llm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">오픈소스 SQL LLM</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">참고문헌</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">목차</h2>
   
  <ul>
<li><a href="#sqlite3-survey-model" id="toc-sqlite3-survey-model" class="nav-link active" data-scroll-target="#sqlite3-survey-model"><span class="header-section-number">9.1</span> 데이터모델 - <code>datamodelr</code></a></li>
  <li>
<a href="#%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C" id="toc-연습문제" class="nav-link" data-scroll-target="#%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C">연습문제</a>
  <ul class="collapse">
<li><a href="#%EA%B0%9D%EA%B4%80%EC%8B%9D" id="toc-객관식" class="nav-link" data-scroll-target="#%EA%B0%9D%EA%B4%80%EC%8B%9D">객관식</a></li>
  <li><a href="#%EB%B0%A9%EC%82%AC%EB%8A%A5-%EC%B8%A1%EC%A0%95%EA%B0%92-%EB%AA%A9%EB%A1%9D" id="toc-방사능-측정값-목록" class="nav-link" data-scroll-target="#%EB%B0%A9%EC%82%AC%EB%8A%A5-%EC%B8%A1%EC%A0%95%EA%B0%92-%EB%AA%A9%EB%A1%9D">방사능 측정값 목록</a></li>
  <li><a href="#%ED%94%84%EB%9E%AD%ED%81%AC-%EC%9C%84%EC%B9%98" id="toc-프랭크-위치" class="nav-link" data-scroll-target="#%ED%94%84%EB%9E%AD%ED%81%AC-%EC%9C%84%EC%B9%98">프랭크 위치</a></li>
  <li><a href="#%EC%BF%BC%EB%A6%AC-%EB%8F%85%ED%95%B4" id="toc-쿼리-독해" class="nav-link" data-scroll-target="#%EC%BF%BC%EB%A6%AC-%EB%8F%85%ED%95%B4">쿼리 독해</a></li>
  <li><a href="#%EB%88%84%EA%B0%80-%EC%96%B4%EB%94%94%EC%97%90-%EB%B0%A9%EB%AC%B8%ED%96%88%EB%8A%94%EA%B0%80" id="toc-누가-어디에-방문했는가" class="nav-link" data-scroll-target="#%EB%88%84%EA%B0%80-%EC%96%B4%EB%94%94%EC%97%90-%EB%B0%A9%EB%AC%B8%ED%96%88%EB%8A%94%EA%B0%80">누가 어디에 방문했는가?</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/bit2r/gpt-sql/edit/main/join.qmd" class="toc-action"><i class="bi bi-github"></i>편집</a></li><li><a href="https://github.com/bit2r/gpt-sql/issues/new" class="toc-action"><i class="bi empty"></i>이슈 보고</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./select.html">SQL 쿼리</a></li><li class="breadcrumb-item"><a href="./join.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">조인(Join)</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">9</span>&nbsp; <span class="chapter-title">조인(Join)</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><ul>
<li>두 테이블을 조인(join)하는 쿼리 연산을 설명한다.</li>
<li>의미있는 값의 조합만 포함하기 위해서 조인문을 포함하는 쿼리 결과를 어떻게 제한하는지 설명한다.</li>
<li>동일한 키를 갖는 테이블을 조인하는 쿼리를 작성한다.</li>
<li>기본키(primary key)와 외래키(foreign key)가 무엇인지 그리고 왜 유용한지 설명한다.</li>
<li>원자값(atomic value)이 무엇이고, 왜 데이터베이스 필드는 원자값만 포함해야하는지 설명한다.</li>
</ul>
<p>과거 기상 데이터를 집계하는 웹사이트에 데이터를 제출하기 위해, 위도, 경도, 날짜, 측정량, 측정값 형식으로 데이터를 체계적으로 만들 필요가 있을 수 있다. 그러나, 위도와 경도는 <code>Site</code> 테이블에 있고, 측정 날짜는 <code>Visited</code> 테이블에, 측정값 자체는 <code>Survey</code> 테이블에 있다. 어떤 방식이든지 상기 테이블을 조합할 필요가 있다.</p>
<p>테이블들 간 관계는 다음 그림을 통해 확인할 수 있다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/sql-join-structure.svg" class="img-fluid figure-img"></p>
<figcaption>조사 데이터베이스 구조</figcaption></figure>
</div>
<section id="sqlite3-survey-model" class="level2" data-number="9.1"><h2 data-number="9.1" class="anchored" data-anchor-id="sqlite3-survey-model">
<span class="header-section-number">9.1</span> 데이터모델 - <code>datamodelr</code>
</h2>
<p><code>survey.db</code> 데이터베이스의 정보를 이용해 데이터프레임을 추출하고, 이를 <code>datamodelr</code>에 넣어 데이터베이스 모델을 시각화한다. <a href="https://github.com/bergant/datamodelr"><code>datamodelr</code></a> 패키지 <code>nycflights13</code> 사례를 참조하여 유사한 방식으로 제작한다. <code>datamodelr</code>는 <a href="https://github.com/bergant/datamodelr">R에서 데이터 모델 다이어그램을 그리는 방법</a>을 제공한다. 먼저 데이터프레임만 시각화하는 작업을 진행한다.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 0. 환경설정 -----------------------</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbplyr.tidyverse.org/">dbplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bergant/datamodelr">datamodelr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org">DBI</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1. 데이터 연결 -----------------------</span></span>
<span><span class="va">survey_con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"data/survey.db"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">survey</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">survey_con</span>, <span class="st">"Survey"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">person</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">survey_con</span>, <span class="st">"Person"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">site</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">survey_con</span>, <span class="st">"Site"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">visited</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span><span class="op">(</span><span class="va">survey_con</span>, <span class="st">"Visited"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">survey_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_from_data_frames.html">dm_from_data_frames</a></span><span class="op">(</span><span class="va">survey</span>, <span class="va">person</span>, <span class="va">site</span>, <span class="va">visited</span><span class="op">)</span></span>
<span><span class="va">survey_graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_create_graph.html">dm_create_graph</a></span><span class="op">(</span><span class="va">survey_model</span>, rankdir <span class="op">=</span> <span class="st">"LR"</span>, col_attr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"column"</span>, <span class="st">"type"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_render_graph.html">dm_render_graph</a></span><span class="op">(</span><span class="va">survey_graph</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-31bceb648ea5ed9164a8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-31bceb648ea5ed9164a8">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"Data Model\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\n\n  \"person\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">person<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">personal<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">family<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"site\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">site<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">name<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">lat<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">long<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"survey\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">survey<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">taken<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">integer<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">person<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">quant<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">reading<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"visited\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">visited<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">integer<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">site<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">dated<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>다음으로 테이블의 키를 찾아 이를 연결시켜서 관계도 함께 표현되도록 작업한다.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">survey_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_add_references.html">dm_add_references</a></span><span class="op">(</span></span>
<span>  <span class="va">survey_model</span>,</span>
<span>  </span>
<span>  <span class="va">person</span><span class="op">$</span><span class="va">id</span> <span class="op">==</span> <span class="va">survey</span><span class="op">$</span><span class="va">person</span>,</span>
<span>  <span class="va">survey</span><span class="op">$</span><span class="va">person</span> <span class="op">==</span> <span class="va">visited</span><span class="op">$</span><span class="va">id</span>,</span>
<span>  <span class="va">visited</span><span class="op">$</span><span class="va">site</span> <span class="op">==</span> <span class="va">site</span><span class="op">$</span><span class="va">name</span>,</span>
<span>  <span class="va">survey</span><span class="op">$</span><span class="va">taken</span> <span class="op">==</span> <span class="va">visited</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">survey_graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_create_graph.html">dm_create_graph</a></span><span class="op">(</span><span class="va">survey_model</span>, rankdir <span class="op">=</span> <span class="st">"LR"</span>, col_attr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"column"</span>, <span class="st">"type"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/datamodelr/man/dm_render_graph.html">dm_render_graph</a></span><span class="op">(</span><span class="va">survey_graph</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4474f7cd345f57a2b650" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4474f7cd345f57a2b650">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"Data Model\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\n\n  \"person\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">person<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">~<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">id<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">personal<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">family<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"site\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">site<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><U>name<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">lat<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">long<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"survey\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">survey<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">~<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">taken<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">integer<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">~<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><U>person<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">quant<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">reading<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">numeric<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"visited\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"3\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">visited<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><U>id<\/U><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">integer<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">~<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">site<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\"><\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">dated<\/TD>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">character<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\"survey\"->\"visited\"\n\"survey\"->\"visited\"\n\"person\"->\"survey\"\n\"visited\"->\"site\"\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">survey_con</span><span class="op">)</span></span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>이러한 작업을 하는 SQL 명령어가 <code>JOIN</code>이다. 어떻게 동작하는지 확인하기 위해서, <code>Site</code>와 <code>Visited</code> 테이블을 조인하면서 살펴보자.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Site <span class="kw">JOIN</span> Visited;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">name</th>
<th style="text-align: center;">lat</th>
<th style="text-align: center;">long</th>
<th style="text-align: center;">id</th>
<th style="text-align: center;">site</th>
<th style="text-align: center;">dated</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">619</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-08</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">622</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">734</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-07</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">735</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-12</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">751</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-02-26</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">752</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-null-</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">837</td>
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">1932-01-14</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1932-03-22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">619</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-08</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">622</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">734</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-07</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">735</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-12</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">751</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-02-26</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">752</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-null-</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">837</td>
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">1932-01-14</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1932-03-22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">619</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-08</td>
</tr>
<tr class="even">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">622</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">734</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-07</td>
</tr>
<tr class="even">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">735</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-12</td>
</tr>
<tr class="odd">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">751</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-02-26</td>
</tr>
<tr class="even">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">752</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-null-</td>
</tr>
<tr class="odd">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">837</td>
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">1932-01-14</td>
</tr>
<tr class="even">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1932-03-22</td>
</tr>
</tbody>
</table>
<p><code>JOIN</code>은 두 테이블의 <strong>교차 곱(cross product)</strong>을 생성한다. 즉, 한 테이블의 각 레코드를 다른 테이블의 각 레코드와 결합하여 가능한 모든 조합을 만든다. <code>Site</code>에는 세 개의 레코드가 있고 <code>Visited</code>에는 여덟 개가 있으므로, 조인의 출력에는 24개의 레코드가 있다(3 * 8 = 24). 그리고 각 테이블에는 세 개의 필드가 있으므로, 출력에는 여섯 개의 필드가 있다(3 + 3 = 6).</p>
<p>조인이 수행하지 <em>않은</em> 것은 조인되는 레코드가 서로 관계가 있는지를 파악하는 것이다. 어떻게 조인할지 명시할 때까지 레코드가 서로 관계가 있는지 없는지 알 수 있는 방법은 없다. 이를 위해서 동일한 사이트 이름을 가진 조합에만 관심있다는 것을 명시하는 절(clause)을 추가한다.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  Site.lat,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  Site.<span class="dt">long</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  Visited.dated</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  Site</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">JOIN</span> Visited <span class="kw">ON</span> Site.name <span class="op">=</span> Visited.site;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">name</th>
<th style="text-align: center;">lat</th>
<th style="text-align: center;">long</th>
<th style="text-align: center;">id</th>
<th style="text-align: center;">site</th>
<th style="text-align: center;">dated</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">619</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-08</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">622</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1927-02-10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">DR-1</td>
<td style="text-align: center;">1932-03-22</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">734</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-07</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">735</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-01-12</td>
</tr>
<tr class="even">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">751</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">1930-02-26</td>
</tr>
<tr class="odd">
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">752</td>
<td style="text-align: center;">DR-3</td>
<td style="text-align: center;">-null-</td>
</tr>
<tr class="even">
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">837</td>
<td style="text-align: center;">MSK-4</td>
<td style="text-align: center;">1932-01-14</td>
</tr>
</tbody>
</table>
<p><code>ON</code>은 <code>WHERE</code>와 매우 유사하며, SQL 기본과정에서 이 둘을 서로 바꿔가며 사용할 수 있다. <strong>[외부 조인(outer joins)</strong>이 미치는 영향에 대해 차이점이 있지만, SQL 기본과정 범위를 벗어난다. 쿼리에 <code>ON</code>을 추가하면, 데이터베이스 관리자는 두 다른 사이트에 대한 정보를 결합한 레코드를 제거하고 원하는 것만 남긴다.</p>
<p>조인의 출력에서 필드 이름을 지정하기 위해 <code>Table.field</code>를 사용했음을 주목하자. 테이블에 동일한 이름의 필드가 있을 수 있고, 어떤 것에 대해 이야기하고 있는지 구체적으로 명시할 필요가 있기 때문이다. 예를 들어, <code>Person</code>과 <code>Visited</code> 테이블을 조인하면, 결과는 각 원래 테이블에서 <code>id</code>라는 필드를 상속받는다.</p>
<p>이제 같은 점 표기법(dotted notation)을 사용하여 조인에서 실제로 원하는 칼럼 3개를 선택할 수 있다.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  Site.lat,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  Site.<span class="dt">long</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  Visited.dated</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  Site</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">JOIN</span> Visited <span class="kw">ON</span> Site.name <span class="op">=</span> Visited.site;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">lat</th>
<th style="text-align: center;">long</th>
<th style="text-align: center;">dated</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-08</td>
</tr>
<tr class="even">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-10</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1932-03-22</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">-null-</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-12</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-02-26</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-07</td>
</tr>
<tr class="even">
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">1932-01-14</td>
</tr>
</tbody>
</table>
<p>두 테이블을 조인하는 것이 좋다면, 여러 테이블을 조인하는 것이 더 좋을 것이다. 실제로, 쿼리에 더 많은 <code>JOIN</code> 절을 추가하고 논리적으로 맞지 않는 레코드 조합을 걸러내기 위해 더 많은 <code>ON</code> 테스트를 추가함으로써 어떤 수의 테이블이든 조인할 수 있다.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  Site.lat,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  Site.<span class="dt">long</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  Visited.dated,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  Survey.quant,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  Survey.reading</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  Site</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">JOIN</span> Visited</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">JOIN</span> Survey <span class="kw">ON</span> Site.name <span class="op">=</span> Visited.site</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">AND</span> Visited.<span class="kw">id</span> <span class="op">=</span> Survey.taken</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">AND</span> Visited.dated <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span>;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">lat</th>
<th style="text-align: center;">long</th>
<th style="text-align: center;">dated</th>
<th style="text-align: center;">quant</th>
<th style="text-align: center;">reading</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-08</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">9.82</td>
</tr>
<tr class="even">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-08</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.13</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-10</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">7.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1927-02-10</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.09</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-07</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">8.41</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-07</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.05</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-07</td>
<td style="text-align: center;">temp</td>
<td style="text-align: center;">-21.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-12</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">7.22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-12</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-01-12</td>
<td style="text-align: center;">temp</td>
<td style="text-align: center;">-26.0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-02-26</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">4.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-02-26</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-47.15</td>
<td style="text-align: center;">-126.72</td>
<td style="text-align: center;">1930-02-26</td>
<td style="text-align: center;">temp</td>
<td style="text-align: center;">-18.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">1932-01-14</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">1.46</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">1932-01-14</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">0.21</td>
</tr>
<tr class="even">
<td style="text-align: center;">-48.87</td>
<td style="text-align: center;">-123.4</td>
<td style="text-align: center;">1932-01-14</td>
<td style="text-align: center;">sal</td>
<td style="text-align: center;">22.5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-49.85</td>
<td style="text-align: center;">-128.57</td>
<td style="text-align: center;">1932-03-22</td>
<td style="text-align: center;">rad</td>
<td style="text-align: center;">11.25</td>
</tr>
</tbody>
</table>
<p><code>Site</code>, <code>Visited</code>, <code>Survey</code> 테이블 레코드들이 서로 어떻게 대응하는지 알 수 있는 이유는 테이블들이 <strong>기본 키(primary keys)</strong>와 <strong>외래 키(foreign keys)</strong>를 포함하기 때문이다. 기본 키는 테이블 각 레코드를 고유하게 식별하는 값 또는 값의 조합이다. 외래키는 또 다른 테이블에 있는 유일하게 레코드를 식별하는 하나의 값(혹은 여러 값의 조합)이다. 다른 방식으로 말하면, 외래 키는 한 테이블의 기본 키가 다른 테이블에 존재하는 것이다. 예제 데이터베이스에서 <code>Person.ident</code>는 <code>Person</code> 테이블의 기본키인 반면에, <code>Survey.person</code>은 외래키로 <code>Survey</code> 테이블의 항목과 <code>Person</code> 테이블의 항목을 연결하는 외래 키다.</p>
<p>대부분의 데이터베이스 설계자들은 모든 테이블이 잘 정의된 기본 키를 가져야 한다고 믿는다. 또한, 이 키는 데이터 자체와 별개여야 하므로, 데이터를 변경할 필요가 있을 때 한 곳에서만 변경을 하면 된다. 이를 위한 쉬운 방법 중 하나는 데이터베이스에 레코드를 추가할 때마다 임의 고유 ID를 생성하는 것이다. 실제로 매우 흔한 방법이며, “학생 번호”나 “환자 번호”와 같은 이름을 가진 이러한 ID는 거의 항상 데이터베이스 시스템에서 고유한 레코드 식별자로 사용된다. 아래 쿼리에서 보여주는 것처럼, SQLite는 테이블에 레코드가 추가될 때 [자동으로 레코드 번호를 부여][rowid]하고, 쿼리에서 레코드 번호를 사용한다.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="dt">rowid</span>, <span class="op">*</span> <span class="kw">FROM</span> Person;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">rowid</th>
<th style="text-align: center;">id</th>
<th style="text-align: center;">personal</th>
<th style="text-align: center;">family</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">dyer</td>
<td style="text-align: center;">William</td>
<td style="text-align: center;">Dyer</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">pb</td>
<td style="text-align: center;">Frank</td>
<td style="text-align: center;">Pabodie</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">lake</td>
<td style="text-align: center;">Anderson</td>
<td style="text-align: center;">Lake</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">roe</td>
<td style="text-align: center;">Valentina</td>
<td style="text-align: center;">Roerich</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">danforth</td>
<td style="text-align: center;">Frank</td>
<td style="text-align: center;">Danforth</td>
</tr>
</tbody>
</table></section><section id="연습문제" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="연습문제">연습문제</h2>
<section id="객관식" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="객관식">객관식</h3>
<ol type="1">
<li>
<strong>문제:</strong> SQL에서 <code>INNER JOIN</code>은 어떤 조건에서 레코드를 반환합니까?
<ol type="1">
<li>모든 레코드</li>
<li>첫 번째 테이블의 레코드만</li>
<li>두 테이블 간 일치하는 레코드만</li>
<li>일치하지 않는 레코드만</li>
</ol>
</li>
</ol>
<ol start="2" type="1">
<li>
<strong>문제:</strong> <code>LEFT JOIN</code>을 사용할 때 결과 집합에 포함되는 것은 무엇입니까?
<ol type="1">
<li>오른쪽 테이블의 모든 레코드</li>
<li>일치하는 레코드가 없는 왼쪽 테이블의 레코드</li>
<li>왼쪽 테이블의 모든 레코드와 일치하는 오른쪽 테이블의 레코드</li>
<li>두 테이블 간 일치하지 않는 모든 레코드</li>
</ol>
</li>
</ol>
<ol start="3" type="1">
<li>
<strong>문제:</strong> <code>FULL OUTER JOIN</code>의 기능은 무엇입니까?
<ol type="1">
<li>두 테이블의 교집합만 반환</li>
<li>두 테이블의 합집합을 반환</li>
<li>오직 한 테이블의 레코드만 반환</li>
<li>일치하는 레코드가 없는 경우에만 반환</li>
</ol>
</li>
</ol></section><section id="방사능-측정값-목록" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="방사능-측정값-목록">방사능 측정값 목록</h3>
<p><code>DR-1</code> 사이트의 모든 방사선 측정치를 출력하는 쿼리를 작성하세요.</p>
</section><section id="프랭크-위치" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="프랭크-위치">프랭크 위치</h3>
<p>“Frank” 가 방문한 모든 사이트를 출력하는 쿼리를 작성하세요.</p>
</section><section id="쿼리-독해" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="쿼리-독해">쿼리 독해</h3>
<p>다음 쿼리가 무슨 결과를 산출하는지 말로 기술하세요.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Site.name <span class="kw">FROM</span> Site <span class="kw">JOIN</span> Visited</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> Site.lat <span class="op">&lt;</span> <span class="op">-</span><span class="fl">49.0</span> <span class="kw">AND</span> Site.name <span class="op">=</span> Visited.site <span class="kw">AND</span> Visited.dated <span class="op">&gt;=</span> <span class="st">'1932-01-01'</span>;</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="누가-어디에-방문했는가" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="누가-어디에-방문했는가">누가 어디에 방문했는가?</h3>
<p>각 사이트의 정확한 위치(위도, 경도)와 방문 날짜별로 정렬된 목록을 작성하고, 사이트를 방문한 사람의 개인 이름과 성, 그리고 측정 유형 및 측정값을 나타내는 쿼리를 작성한다. <code>null</code> 값은 모두 피한다. 힌트: 15개의 레코드와 8개의 필드를 얻어야 한다.</p>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./calc-agg.html" class="pagination-link  aria-label=">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">새로운 필드와 집계</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./create.html" class="pagination-link" aria-label="<span class='chapter-number'>10</span>&nbsp; <span class='chapter-title'>데이터 생성과 변형</span>">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">데이터 생성과 변형</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>챗GPT SQL 책은 소프트웨어 카펜트리 Database and SQL 번역한 것이 포함되어 있습니다.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>순수하게 <a href="https://quarto.org/">쿼토(Quarto)</a>로 제작되었습니다.</p>
</div>
  </div>
</footer>


</body></html>